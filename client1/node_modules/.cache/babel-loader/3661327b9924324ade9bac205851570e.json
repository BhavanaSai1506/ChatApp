{"ast":null,"code":"import _classCallCheck from \"/home/admininistrator/Desktop/ChatAppUpdate/client1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/admininistrator/Desktop/ChatAppUpdate/client1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/admininistrator/Desktop/ChatAppUpdate/client1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/admininistrator/Desktop/ChatAppUpdate/client1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/admininistrator/Desktop/ChatAppUpdate/client1/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/admininistrator/Desktop/ChatAppUpdate/client1/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/admininistrator/Desktop/ChatAppUpdate/client1/src/components/dashboard.jsx\";\nimport React from \"react\";\nimport '../App.css'; //import TextField from '@material-ui/core/TextField';\n\nimport { TextField, MenuItem } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport { chatServices, chatDisplay, userChatArray } from \"../services/chatservices\";\nimport MessageDisplay from './messagedisplay';\nimport io from 'socket.io-client';\nvar socket = io.connect('http://localhost:8000');\n\nvar DashboardPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DashboardPage, _React$Component);\n\n  function DashboardPage(props) {\n    var _this;\n\n    _classCallCheck(this, DashboardPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DashboardPage).call(this, props));\n\n    _this.handleMessage = function (e) {\n      _this.setState({\n        message: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault(); //Get the sender who has login to the application\n\n      var Sender = localStorage.getItem('Sender');\n\n      _this.setState({\n        Sender: Sender\n      });\n\n      console.log('Sender is :', Sender);\n      console.log(\"Selected receiver: \", _this.state.Receiver);\n      chatDisplay(Sender, _this.state.Receiver, _this.state.message);\n      var request = {\n        senderId: Sender,\n        recieverId: _this.state.Receiver,\n        message: _this.state.message\n      };\n      socket.emit(\"new_msg\", request);\n\n      _this.setState({\n        message: '',\n        anchorEl: null\n      });\n\n      _this.setState({\n        MsgDisplay: _this.state.message\n      });\n\n      _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    };\n\n    _this.handlelogout = function (event) {\n      event.preventDefault();\n\n      _this.props.props.history.push('/login');\n    };\n\n    _this.handleClick = function (key, event) {\n      _this.setState({\n        anchorEl: null\n      });\n\n      var Receiver = event.target.textContent;\n\n      _this.setState({\n        Receiver: Receiver\n      });\n    };\n\n    _this.state = {\n      onlineUser: [],\n      MsgArray: [],\n      message: \"\",\n      MsgDisplay: \"\",\n      Receiver: '',\n      Sender: '',\n      msg: []\n    };\n    return _this;\n  }\n\n  _createClass(DashboardPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //Get all the users data\n      chatServices().then(function (result) {\n        _this2.setState({\n          onlineUser: result.data.result\n        });\n\n        console.log(\"users\", result.data.result);\n      }).catch(function (error) {\n        alert(error);\n      }); //Get all users chat history to display    \n\n      userChatArray().then(function (result) {\n        _this2.setState({\n          MsgArray: result.data.result\n        });\n\n        console.log(\"chat history is :\", _this2.state.MsgArray);\n      }).catch(function (error) {\n        alert(error);\n      });\n      var Sender = localStorage.getItem('Sender');\n      socket.on(Sender, function (result) {\n        console.log(\"recieved data to services-->\", result);\n        var msg = _this2.state.msg;\n        msg.push(result);\n\n        _this2.setState({\n          msg: msg\n        });\n\n        console.log(\"this dot msg==========>\", result);\n        console.log(\"msg array=======>\", _this2.state.msg);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log('Sender is :', this.state.Sender);\n      console.log(\"Selected receiver: \", this.state.Receiver);\n      var loginUsers = this.state.onlineUser.map(function (key) {\n        console.log(\"  local data \", localStorage.getItem('Sender'));\n\n        if (key.email !== localStorage.getItem('Sender')) {\n          return React.createElement(MenuItem, {\n            onClick: function onClick(event) {\n              return _this3.handleClick(key, event);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, key.email);\n        } else {\n          return true;\n        }\n\n        ;\n      });\n      var msg = this.state.msg.map(function (key) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(MenuItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, key.senderId, \":\", key.message, \"   \"));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        id: \"heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"chatapp \"), React.createElement(Button, {\n        id: \"buttonalter\",\n        onClick: this.handlelogout,\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(\"p\", {\n        id: \"loginas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"login as  \", localStorage.getItem(\"Sender\")))), React.createElement(\"div\", {\n        className: \"div1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"users\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, loginUsers)), React.createElement(\"div\", {\n        className: \"div2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, this.state.Receiver, msg, React.createElement(MessageDisplay, {\n        MsgArray: this.state.MsgArray,\n        recieverId: this.state.Receiver,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \" textfieldInput\",\n        className: \"textField\",\n        margin: \"normal\",\n        value: this.state.message,\n        onChange: this.handleMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        id: \"dashsendButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        class: \"senddashlabel\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"send\"))));\n    }\n  }]);\n\n  return DashboardPage;\n}(React.Component);\n\nexport { DashboardPage as default };","map":{"version":3,"sources":["/home/admininistrator/Desktop/ChatAppUpdate/client1/src/components/dashboard.jsx"],"names":["React","TextField","MenuItem","AppBar","Button","Icon","chatServices","chatDisplay","userChatArray","MessageDisplay","io","socket","connect","DashboardPage","props","handleMessage","e","setState","message","target","value","handleSubmit","event","preventDefault","Sender","localStorage","getItem","console","log","state","Receiver","request","senderId","recieverId","emit","anchorEl","MsgDisplay","handleClick","bind","handlelogout","history","push","key","textContent","onlineUser","MsgArray","msg","then","result","data","catch","error","alert","on","loginUsers","map","email","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../App.css';\n//import TextField from '@material-ui/core/TextField';\nimport { TextField, MenuItem } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport { chatServices,chatDisplay, userChatArray } from \"../services/chatservices\";\nimport MessageDisplay from './messagedisplay';\nimport io from 'socket.io-client';\nconst socket = io.connect('http://localhost:8000')\nexport default class DashboardPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            onlineUser: [],\n            MsgArray: [],\n            message: \"\",\n            MsgDisplay: \"\",\n            Receiver: '',\n            Sender: '',\n            msg: [],\n        }\n    }\n    componentDidMount() {\n        //Get all the users data\n        chatServices()\n            .then((result) => {\n                this.setState({\n                    onlineUser: result.data.result\n                })\n                console.log(\"users\", result.data.result);\n            })\n            .catch((error) => {\n                alert(error)\n            });\n\n        //Get all users chat history to display    \n        userChatArray()\n            .then((result) => {\n                this.setState({\n                    MsgArray: result.data.result\n                })\n                console.log(\"chat history is :\", this.state.MsgArray);\n            })\n            .catch((error) => {\n                alert(error)\n            });\n        const Sender = localStorage.getItem('Sender')\n        socket.on(Sender, (result) => {\n            console.log(\"recieved data to services-->\", result);\n\n            const msg = this.state.msg;\n            msg.push(result);\n            this.setState({ msg: msg });\n            console.log(\"this dot msg==========>\", result);\n            console.log(\"msg array=======>\", this.state.msg);\n\n        })\n    }\n    handleMessage = (e) => {\n        this.setState({ message: e.target.value });\n    }\n    handleSubmit = (event) => {\n        event.preventDefault();\n        //Get the sender who has login to the application\n        const Sender = localStorage.getItem('Sender')\n        this.setState({ Sender: Sender })\n        console.log('Sender is :', Sender);\n        console.log(\"Selected receiver: \", this.state.Receiver);\n        chatDisplay(Sender, this.state.Receiver, this.state.message);\n        \n        let request = {\n            senderId: Sender,\n            recieverId: this.state.Receiver,\n            message: this.state.message,\n        }\n        socket.emit(\"new_msg\", request);\n        this.setState({\n            message: '',\n            anchorEl: null\n        });\n        this.setState({ MsgDisplay: this.state.message })\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handlelogout = event => {\n        event.preventDefault();\n        this.props.props.history.push('/login');\n    }\n    handleClick = (key, event) => {\n        this.setState({ anchorEl: null });\n        let Receiver = event.target.textContent;\n        this.setState({ Receiver: Receiver });\n    };\n    render() {\n        console.log('Sender is :', this.state.Sender);\n        console.log(\"Selected receiver: \", this.state.Receiver);\n        const loginUsers = this.state.onlineUser.map((key) => {\n            console.log(\"  local data \", localStorage.getItem('Sender'));\n            if (key.email !== localStorage.getItem('Sender')) {\n                return (\n                    <MenuItem onClick={(event) => this.handleClick(key, event)}>{key.email}</MenuItem>\n                )\n            }\n            else {\n                return true;\n            };\n        });\n        const msg = this.state.msg.map((key) => {\n            return (\n                <div>\n                    <MenuItem>{key.senderId}:{key.message}   </MenuItem>\n                </div>\n            )\n        })\n        return (\n\n            <div>\n                <div className=\"root\">\n                    <AppBar position=\"static\">\n                        <h1 id=\"heading\">chatapp </h1>\n                        <Button id=\"buttonalter\" onClick={this.handlelogout} color=\"inherit\"\n                        >Logout</Button>\n                        <p id=\"loginas\">login as  {localStorage.getItem(\"Sender\")}</p>\n                    </AppBar>\n                </div >\n\n                <div className=\"div1\">\n                    <label>users</label>\n                    <div>{loginUsers}</div>\n                </div>\n                <div className=\"div2\" >\n                    {this.state.Receiver}\n                    {msg}\n                    <MessageDisplay\n                        MsgArray={this.state.MsgArray}\n                        recieverId={this.state.Receiver} />\n                </div>\n                <div>\n                    <form className=\"container\" >\n                        <TextField\n                            id=\" textfieldInput\"\n                            className=\"textField\"\n                            margin=\"normal\"\n                            value={this.state.message}\n                            onChange={this.handleMessage}></TextField>\n                    </form>\n                </div>\n                <div>\n                    <Button variant=\"contained\" color=\"primary\" id=\"dashsendButton\">\n                        {/* This Button uses a Font Icon, see the installation instructions in the docs. */}\n                        <Icon class=\"senddashlabel\" onClick={this.handleSubmit}>send</Icon>\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}