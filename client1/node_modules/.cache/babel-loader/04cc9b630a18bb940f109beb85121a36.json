{"ast":null,"code":"import _defineProperty from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/admininistrator/chatapp/client/src/components/reset.jsx\";\nimport React from \"react\";\nimport '../App.css';\nimport { reset } from '../services/userServices';\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { toast } from \"react-toastify\";\n\nvar ResetPassword =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ResetPassword, _React$Component);\n\n  function ResetPassword(props) {\n    var _this;\n\n    _classCallCheck(this, ResetPassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResetPassword).call(this, props));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var current_url = window.location.pathname;\n      var verify_user_token = current_url.substr(15);\n      console.log(\"resetpassComponent--Current url is--:\", current_url);\n      console.log(\"resetpassComponent--Token is--:\", verify_user_token);\n      reset(_this.state.password, verify_user_token).then(function (res) {\n        _this.props.props.history.push(\"/login\");\n      }).catch(function (err) {\n        toast(\"plz try again\");\n      });\n    };\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"password\":\n          formErrors.password = value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n          break;\n\n        case \"password1\":\n          formErrors.conformpassword = value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value), function () {\n        return console.log(_this.state);\n      });\n    };\n\n    _this.Onclick = function (e) {\n      e.preventDefault();\n    };\n\n    _this.state = {\n      password: null,\n      conformpassword: null,\n      formErrors: {\n        password: \"\",\n        conformpassword: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ResetPassword, [{\n    key: \"render\",\n    value: function render() {\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapperRecover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Reset\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"new password\"), React.createElement(\"input\", {\n        className: formErrors.password.length > 0 ? \"error\" : null,\n        placeholder: \"password\",\n        type: \"password\",\n        name: \"password\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), formErrors.password.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, formErrors.password)), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"conform passowrd\"), React.createElement(\"input\", {\n        className: formErrors.conformpassword.length > 0 ? \"error\" : null,\n        placeholder: \"Password\",\n        type: \"password\",\n        name: \"password1\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), formErrors.conformpassword.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, formErrors.conformpassword)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"submit\")))));\n    }\n  }]);\n\n  return ResetPassword;\n}(React.Component);\n\nexport { reset };\nexport default ResetPassword;","map":{"version":3,"sources":["/home/admininistrator/chatapp/client/src/components/reset.jsx"],"names":["React","reset","toast","ResetPassword","props","handleSubmit","e","preventDefault","current_url","window","location","pathname","verify_user_token","substr","console","log","state","password","then","res","history","push","catch","err","handleChange","target","name","value","formErrors","length","conformpassword","setState","Onclick","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../App.css';\nimport { reset } from '../services/userServices';\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { toast } from \"react-toastify\";\nclass ResetPassword extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            password: null,\n            conformpassword: null,\n            formErrors: {\n                password: \"\",\n                conformpassword: \"\"\n            }\n        };\n    }\n    handleSubmit = e => {\n        e.preventDefault();\n        let current_url = window.location.pathname;\n        let verify_user_token = current_url.substr(15);\n        console.log(\"resetpassComponent--Current url is--:\", current_url);\n        console.log(\"resetpassComponent--Token is--:\", verify_user_token);\n        reset(this.state.password, verify_user_token)\n            .then((res) => {\n                this.props.props.history.push(\"/login\");\n            })\n            .catch((err) => {\n                toast(\"plz try again\")\n            })\n    };\n    handleChange = e => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        let formErrors = { ...this.state.formErrors };\n        switch (name) {\n            case \"password\":\n                formErrors.password =\n                    value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n                break;\n            case \"password1\":\n                formErrors.conformpassword =\n                    value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n                break;\n            default:\n                break;\n        }\n        this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n    };\n    Onclick = e => {\n        e.preventDefault();\n    };\n    render() {\n        const { formErrors } = this.state;\n        return (\n            <div className=\"wrapper\" >\n                <div className=\"form-wrapperRecover\">\n                    <h1>Reset</h1>\n                    <form onSubmit={this.handleSubmit} noValidate>\n                        <div className=\"password\">\n                            <label htmlFor=\"password\">new password</label>\n                            <input\n                                className={formErrors.password.length > 0 ? \"error\" : null}\n                                placeholder=\"password\"\n                                type=\"password\"\n                                name=\"password\"\n                                noValidate\n                                onChange={this.handleChange}\n                            />\n                            {formErrors.password.length > 0 && (\n                                <span className=\"errorMessage\">{formErrors.password}</span>\n                            )}\n                        </div>\n                        <div className=\"password\">\n                            <label htmlFor=\"password\">conform passowrd</label>\n                            <input\n                                className={formErrors.conformpassword.length > 0 ? \"error\" : null}\n                                placeholder=\"Password\"\n                                type=\"password\"\n                                name=\"password1\"\n                                noValidate\n                                onChange={this.handleChange}\n                            />\n                            {formErrors.conformpassword.length > 0 && (\n                                <span className=\"errorMessage\">{formErrors.conformpassword}</span>\n                            )}\n                        </div>\n                        <div className=\"createAccount\">\n                            <button type=\"submit\"\n                                onClick={this.handleSubmit}>submit</button>\n                        </div>\n                    </form>\n                </div>\n\n            </div>\n        );\n    }\n}\nexport { reset }\nexport default ResetPassword;\n\n"]},"metadata":{},"sourceType":"module"}