{"ast":null,"code":"import _defineProperty from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/admininistrator/chatapp/client/src/components/forgotPassword.jsx\";\nimport React from \"react\";\nimport '../App.css';\nimport { forgot } from \"../services/userServices\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nvar emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nvar formValid = function formValid(_ref) {\n  var formErrors = _ref.formErrors,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\"]);\n\n  var valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(function (val) {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(function (val) {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nvar forgetPassword =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(forgetPassword, _React$Component);\n\n  function forgetPassword(props) {\n    var _this;\n\n    _classCallCheck(this, forgetPassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(forgetPassword).call(this, props));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      if (formValid(_this.state)) {\n        forgot(_this.state.email);\n        console.log(\"\\n        --SUBMITTING-\\n    email \".concat(_this.state.email, \"\\n      \"));\n      } else {\n        toast(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"email\":\n          formErrors.email = emailRegex.test(value) ? \"\" : \"invalid email address\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value), function () {\n        return console.log(_this.state);\n      });\n    };\n\n    _this.registrationclick = function (e) {\n      e.preventDefault();\n      window.location.href = \"register\";\n    };\n\n    _this.state = {\n      email: null,\n      formErrors: {\n        email: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(forgetPassword, [{\n    key: \"render\",\n    value: function render() {\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapperRecover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Forget Password\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        className: formErrors.email.length > 0 ? \"error\" : null,\n        placeholder: \"Email\",\n        type: \"email\",\n        name: \"email\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), formErrors.email.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, formErrors.email)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        title: \"click on Submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"submit\")), React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"registerButton\",\n        type: \"submit\",\n        title: \"click on Login\",\n        onClick: this.registrationclick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"register\")))), React.createElement(ToastContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return forgetPassword;\n}(React.Component);\n\nexport { forgot };\nexport default forgetPassword;","map":{"version":3,"sources":["/home/admininistrator/chatapp/client/src/components/forgotPassword.jsx"],"names":["React","forgot","ToastContainer","toast","emailRegex","RegExp","formValid","formErrors","rest","valid","Object","values","forEach","val","length","forgetPassword","props","handleSubmit","e","preventDefault","state","email","console","log","handleChange","target","name","value","test","setState","registrationclick","window","location","href","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../App.css';\nimport { forgot } from \"../services/userServices\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nconst emailRegex = RegExp(\n    /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\nconst formValid = ({ formErrors, ...rest }) => {\n    let valid = true;\n    // validate form errors being empty\n    Object.values(formErrors).forEach(val => {\n        val.length > 0 && (valid = false);\n    });\n    // validate the form was filled out\n    Object.values(rest).forEach(val => {\n        val === null && (valid = false);\n    });\n    return valid;\n};\nclass forgetPassword extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: null,\n            formErrors: {\n                email: \"\",\n            }\n        };\n    }\n    handleSubmit = e => {\n        e.preventDefault();\n        if (formValid(this.state)) {\n            forgot(this.state.email);\n            console.log(`\n        --SUBMITTING-\n    email ${this.state.email}\n      `);\n        } else {\n            toast(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n        }\n    };\n    handleChange = e => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        let formErrors = { ...this.state.formErrors };\n        switch (name) {\n            case \"email\":\n                formErrors.email = emailRegex.test(value)\n                    ? \"\"\n                    : \"invalid email address\";\n                break;\n            default:\n                break;\n        }\n        this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n    };\n    registrationclick = e => {\n        e.preventDefault();\n        window.location.href = \"register\"\n    };\n    render() {\n        const { formErrors } = this.state;\n        return (\n            <div className=\"wrapper\">\n                <div className=\"form-wrapperRecover\">\n                    <h1>Forget Password</h1>\n                    <form onSubmit={this.handleSubmit} noValidate>\n                        <div className=\"email\">\n                            <label htmlFor=\"email\">Email</label>\n                            <input\n                                className={formErrors.email.length > 0 ? \"error\" : null}\n                                placeholder=\"Email\"\n                                type=\"email\"\n                                name=\"email\"\n                                noValidate\n                                onChange={this.handleChange}\n                            />\n                            {formErrors.email.length > 0 && (\n                                <span className=\"errorMessage\">{formErrors.email}</span>\n                            )}\n                        </div>\n                        <div className=\"createAccount\">\n                            <button type=\"submit\" title=\"click on Submit\" onClick={this.handleSubmit}>submit</button>\n                        </div>\n                        <div className=\"login\">\n                            <button class=\"registerButton\" type=\"submit\" title=\"click on Login\"\n                                onClick={this.registrationclick}>\n                                register\n                            </button>\n                        </div>\n                    </form>\n                </div>\n                < ToastContainer />\n            </div>\n        );\n    }\n}\nexport { forgot }\nexport default forgetPassword; "]},"metadata":{},"sourceType":"module"}