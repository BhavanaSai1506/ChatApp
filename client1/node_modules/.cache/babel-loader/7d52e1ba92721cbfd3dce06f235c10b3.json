{"ast":null,"code":"import _objectWithoutProperties from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/admininistrator/chatapp/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/admininistrator/chatapp/client/src/components/login.jsx\";\nimport React from \"react\";\nimport '../App.css';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"../pages/loginPage\";\nimport { userLogin } from \"../services/userServices\";\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      if (formValid(_this.state)) {\n        userLogin(_this.state.email, _this.state.password).then(function (res) {\n          console.log(\"login  responce \", res);\n          localStorage.setItem('Sender', _this.state.email);\n\n          _this.props.props.history.push(\"/dashboard\");\n        }).catch(function (err) {\n          console.log(err);\n          toast(\"Login unsuccessful!!\");\n        });\n      } else {\n        toast(\"please enter all the fields correctly\", {\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    };\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"email\":\n          formErrors.email = emailRegex.test(value) ? \"\" : \"invalid email address\";\n          break;\n\n        case \"password\":\n          formErrors.password = value.length < 6 ? \"minimum 6 characters  required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value), function () {\n        return console.log(_this.state);\n      });\n    };\n\n    _this.registrationclick = function (e) {\n      e.preventDefault();\n\n      _this.props.props.history.push(\"/register\");\n    };\n\n    _this.Onclick = function (e) {\n      e.preventDefault();\n\n      _this.props.props.history.push(\"/forgetPassword\");\n    };\n\n    _this.state = {\n      email: null,\n      password: null,\n      formErrors: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        className: formErrors.email.length > 0 ? \"error\" : null,\n        placeholder: \"Email\",\n        type: \"email\",\n        name: \"email\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), formErrors.email.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, formErrors.email)), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        className: formErrors.password.length > 0 ? \"error\" : null,\n        placeholder: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), formErrors.password.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, formErrors.password)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"submit\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"button1\",\n        onClick: this.registrationclick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"registration\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.Onclick,\n        href: \"forgotpassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \" forgot password\"))), React.createElement(ToastContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nvar emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nvar formValid = function formValid(_ref) {\n  var formErrors = _ref.formErrors,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\"]);\n\n  var valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(function (val) {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(function (val) {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nexport { LoginPage };\nexport default LoginPage;","map":{"version":3,"sources":["/home/admininistrator/chatapp/client/src/components/login.jsx"],"names":["React","ToastContainer","toast","userLogin","LoginPage","props","handleSubmit","e","preventDefault","formValid","state","email","password","then","res","console","log","localStorage","setItem","history","push","catch","err","position","POSITION","BOTTOM_CENTER","handleChange","target","name","value","formErrors","emailRegex","test","length","setState","registrationclick","Onclick","Component","RegExp","rest","valid","Object","values","forEach","val"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../App.css';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"../pages/loginPage\";\nimport { userLogin } from \"../services/userServices\";\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: null,\n            password: null,\n            formErrors: {\n                email: \"\",\n                password: \"\"\n            }\n        };\n    }\n    handleSubmit = e => {\n        e.preventDefault();\n        if (formValid(this.state)) {\n            userLogin(this.state.email, this.state.password)\n                .then((res) => {\n                    console.log(\"login  responce \", res);\n                    localStorage.setItem('Sender', this.state.email)\n                    this.props.props.history.push(\"/dashboard\")\n                })\n                .catch(function (err) {\n                    console.log(err);\n                    toast(\"Login unsuccessful!!\");\n                });\n        } else {\n            toast(\"please enter all the fields correctly\", {\n                position: toast.POSITION.BOTTOM_CENTER\n            });\n        }\n    };\n    handleChange = e => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        let formErrors = { ...this.state.formErrors };\n        switch (name) {\n            case \"email\":\n                formErrors.email = emailRegex.test(value)\n                    ? \"\"\n                    : \"invalid email address\";\n                break;\n            case \"password\":\n                formErrors.password =\n                    value.length < 6 ? \"minimum 6 characters  required\" : \"\";\n                break;\n            default:\n                break;\n        }\n        this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n    };\n    registrationclick = e => {\n        e.preventDefault();\n        this.props.props.history.push(\"/register\");\n    };\n    Onclick = e => {\n        e.preventDefault();\n        this.props.props.history.push(\"/forgetPassword\")\n    };\n    render() {\n        const { formErrors } = this.state;\n        return (\n            <div className=\"wrapper\" >\n                <div className=\"form-wrapper\">\n                    <h1>Login</h1>\n                    <form onSubmit={this.handleSubmit} noValidate>\n                        <div className=\"email\">\n                            <label htmlFor=\"email\">Email</label>\n                            <input\n                                className={formErrors.email.length > 0 ? \"error\" : null}\n                                placeholder=\"Email\"\n                                type=\"email\"\n                                name=\"email\"\n                                noValidate\n                                onChange={this.handleChange}\n                            />\n                            {formErrors.email.length > 0 && (\n                                <span className=\"errorMessage\">{formErrors.email}</span>\n                            )}\n                        </div>\n                        <div className=\"password\">\n                            <label htmlFor=\"password\">Password</label>\n                            <input\n                                className={formErrors.password.length > 0 ? \"error\" : null}\n                                placeholder=\"Password\"\n                                type=\"password\"\n                                name=\"password\"\n                                noValidate\n                                onChange={this.handleChange}\n                            />\n                            {formErrors.password.length > 0 && (\n                                <span className=\"errorMessage\">{formErrors.password}</span>\n                            )}\n                        </div>\n                        <div className=\"createAccount\">\n                            <button type=\"submit\"\n                                onClick={this.handleSubmit}>submit</button>\n                        </div>\n                        <div>\n                            <button class=\"button1\"\n                                onClick={this.registrationclick}>\n                                registration\n                            </button>\n                        </div>\n                        <div>\n\n                        </div>\n                    </form>\n                    <small>\n                        <a\n                            onClick={this.Onclick} href=\"forgotpassword\"> forgot password</a>\n                    </small>\n                </div>\n                < ToastContainer />\n            </div>\n        );\n    }\n}\nconst emailRegex = RegExp(\n    /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\nconst formValid = ({ formErrors, ...rest }) => {\n    let valid = true;\n    // validate form errors being empty\n    Object.values(formErrors).forEach(val => {\n        val.length > 0 && (valid = false);\n    });\n    // validate the form was filled out\n    Object.values(rest).forEach(val => {\n        val === null && (valid = false);\n    });\n    return valid;\n};\nexport { LoginPage };\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}